<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>ë‹¤ì¤‘ íŒŒì¼ ì—…ë¡œë“œ ì˜ˆì œ</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <style>
      .upload-container {
        max-width: 600px;
        margin: 50px auto;
        padding: 30px;
        background: #f8f9fa;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      .upload-title {
        color: #333;
        text-align: center;
        margin-bottom: 30px;
        font-weight: bold;
      }
      .form-group label {
        font-weight: 600;
        color: #555;
        margin-bottom: 8px;
      }
      .file-input-wrapper {
        position: relative;
        overflow: hidden;
        display: inline-block;
        width: 100%;
      }
      .file-input-wrapper input[type="file"] {
        position: absolute;
        left: -9999px;
      }
      .file-label {
        display: block;
        padding: 10px 15px;
        background-color: #007bff;
        color: white;
        border-radius: 4px;
        cursor: pointer;
        text-align: center;
        transition: background-color 0.3s;
      }
      .file-label:hover {
        background-color: #0056b3;
      }
      .file-name {
        display: block;
        margin-top: 8px;
        font-size: 14px;
        color: #666;
      }
      .file-info {
        font-size: 12px;
        color: #999;
        margin-top: 5px;
        line-height: 1.6;
      }
      .alert-info {
        background-color: #e7f3ff;
        border-color: #b3d9ff;
        color: #004085;
        border-radius: 4px;
        padding: 12px;
        margin-bottom: 20px;
        font-size: 14px;
      }
      .btn-submit {
        width: 100%;
        padding: 12px;
        background-color: #28a745;
        color: white;
        border: none;
        border-radius: 4px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s;
      }
      .btn-submit:hover {
        background-color: #218838;
      }
      .btn-submit:disabled {
        background-color: #ccc;
        cursor: not-allowed;
      }
    </style>
  </head>
  <body>
    <div class="upload-container">
      <h2 class="upload-title">ğŸ“ ë‹¤ì¤‘ íŒŒì¼ ì—…ë¡œë“œ (ìµœëŒ€ 2ê°œ)</h2>

      <!-- ì•ˆë‚´ ë©”ì‹œì§€ -->
      <div class="alert-info">
        <strong>ğŸ“Œ ì£¼ì˜ì‚¬í•­:</strong>
        <ul style="margin: 0; padding-left: 20px">
          <li>ìµœëŒ€ 2ê°œì˜ íŒŒì¼ì„ ë™ì‹œì— ì—…ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
          <li>ê° íŒŒì¼ì˜ í¬ê¸°ëŠ” 10MBë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</li>
          <li>
            í—ˆìš© íŒŒì¼ íƒ€ì…: txt, pdf, doc, docx, xls, xlsx, ppt, pptx, jpg,
            jpeg, png, gif, zip, rar
          </li>
          <li>
            ê°™ì€ ì´ë¦„ì˜ íŒŒì¼ì´ ìˆìœ¼ë©´ ìë™ìœ¼ë¡œ íƒ€ì„ìŠ¤íƒí”„ë¥¼ ì¶”ê°€í•˜ì—¬ ì €ì¥ë©ë‹ˆë‹¤.
          </li>
        </ul>
      </div>

      <!-- íŒŒì¼ ì—…ë¡œë“œ í¼ -->
      <form action="/upload-files" method="post" enctype="multipart/form-data">
        <!-- ì‚¬ìš©ì ì´ë©”ì¼ ì…ë ¥ -->
        <div class="form-group">
          <label for="userEmail">ğŸ“§ ì‚¬ìš©ì ì´ë©”ì¼ *</label>
          <input
            type="email"
            class="form-control"
            id="userEmail"
            name="userEmail"
            placeholder="example@email.com"
            required
          />
          <div class="file-info">ë¡œê·¸ì¸ëœ ì‚¬ìš©ìì˜ ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”.</div>
        </div>

        <!-- ì²« ë²ˆì§¸ íŒŒì¼ ì—…ë¡œë“œ -->
        <div class="form-group">
          <label for="file1">ğŸ“ íŒŒì¼ 1 *</label>
          <div class="file-input-wrapper">
            <input
              type="file"
              class="form-control-file"
              id="file1"
              name="file1"
              required
              onchange="updateFileName('file1')"
            />
            <label for="file1" class="file-label">íŒŒì¼ ì„ íƒ (í´ë¦­)</label>
            <span class="file-name" id="file1-name"></span>
          </div>
          <div class="file-info">
            í•„ìˆ˜ í•­ëª©ì…ë‹ˆë‹¤. 10MB ì´í•˜ì˜ íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.
          </div>
        </div>

        <!-- ë‘ ë²ˆì§¸ íŒŒì¼ ì—…ë¡œë“œ -->
        <div class="form-group">
          <label for="file2">ğŸ“ íŒŒì¼ 2 (ì„ íƒì‚¬í•­)</label>
          <div class="file-input-wrapper">
            <input
              type="file"
              class="form-control-file"
              id="file2"
              name="file2"
              onchange="updateFileName('file2')"
            />
            <label for="file2" class="file-label">íŒŒì¼ ì„ íƒ (í´ë¦­)</label>
            <span class="file-name" id="file2-name"></span>
          </div>
          <div class="file-info">
            ì„ íƒì‚¬í•­ì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ íŒŒì¼ ì´ì™¸ì— ì¶”ê°€ íŒŒì¼ì„ ì—…ë¡œë“œí•  ìˆ˜
            ìˆìŠµë‹ˆë‹¤.
          </div>
        </div>

        <!-- ì œì¶œ ë²„íŠ¼ -->
        <button
          type="submit"
          class="btn-submit"
          onclick="return validateForm()"
        >
          âœ… íŒŒì¼ ì—…ë¡œë“œ
        </button>
      </form>
    </div>

    <script>
      // íŒŒì¼ ì„ íƒ ì‹œ íŒŒì¼ëª… í‘œì‹œ
      function updateFileName(fileId) {
        const fileInput = document.getElementById(fileId);
        const fileNameSpan = document.getElementById(fileId + "-name");

        if (fileInput.files && fileInput.files.length > 0) {
          const file = fileInput.files[0];
          const fileSize = (file.size / (1024 * 1024)).toFixed(2); // MBë¡œ ë³€í™˜
          fileNameSpan.textContent =
            "âœ“ " + file.name + " (" + fileSize + " MB)";
        } else {
          fileNameSpan.textContent = "";
        }
      }

      // í¼ ì œì¶œ ì „ ìœ íš¨ì„± ê²€ì¦
      function validateForm() {
        const userEmail = document.getElementById("userEmail").value.trim();
        const file1 = document.getElementById("file1");

        // ì´ë©”ì¼ í™•ì¸
        if (!userEmail) {
          alert("ì‚¬ìš©ì ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
          return false;
        }

        // íŒŒì¼ í™•ì¸
        if (!file1.files || file1.files.length === 0) {
          alert("ìµœì†Œ 1ê°œì˜ íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.");
          return false;
        }

        // íŒŒì¼ í¬ê¸° í™•ì¸ (í´ë¼ì´ì–¸íŠ¸ ì¸¡ ê²€ì¦)
        for (let i = 1; i <= 2; i++) {
          const fileInput = document.getElementById("file" + i);
          if (
            fileInput.files &&
            fileInput.files.length > 0 &&
            fileInput.files[0].size > 10 * 1024 * 1024
          ) {
            // 10MB
            alert(
              "íŒŒì¼ " +
                i +
                "ì˜ í¬ê¸°ê°€ 10MBë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤. ë” ì‘ì€ íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”."
            );
            return false;
          }
        }

        return true; // ìœ íš¨ì„± ê²€ì¦ í†µê³¼
      }
    </script>
  </body>
</html>
